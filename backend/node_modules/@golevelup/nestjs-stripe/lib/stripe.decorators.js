"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.StripeWebhookHandler = exports.InjectStripeClient = exports.InjectStripeModuleConfig = void 0;
const common_1 = require("@nestjs/common");
const stripe_module_definition_1 = require("./stripe-module-definition");
const stripe_constants_1 = require("./stripe.constants");
/**
 * Injects the Stripe Module config
 */
const InjectStripeModuleConfig = () => (0, common_1.Inject)(stripe_module_definition_1.MODULE_OPTIONS_TOKEN);
exports.InjectStripeModuleConfig = InjectStripeModuleConfig;
/**
 * Injects the Stripe Client instance
 */
const InjectStripeClient = () => (0, common_1.Inject)(stripe_constants_1.STRIPE_CLIENT_TOKEN);
exports.InjectStripeClient = InjectStripeClient;
/**
 * Binds the decorated service method as a handler for incoming Stripe Webhook events.
 * Events will be automatically routed here based on their event type property
 * @param config The configuration for this handler
 */
const StripeWebhookHandler = (eventType) => (0, common_1.SetMetadata)(stripe_constants_1.STRIPE_WEBHOOK_HANDLER, eventType);
exports.StripeWebhookHandler = StripeWebhookHandler;
//# sourceMappingURL=stripe.decorators.js.map